$(document).ready(function(){var o=function(o,e){return{API_BASE:"https://kcp-fallworkoutlogserver.herokuapp.com/api/",setAuthHeader:function(e){window.localStorage.setItem("sessionToken",e),o.ajaxSetup({headers:{Authorization:e}})}}}(jQuery);$('.nav-tabs a[data-toggle="tab"]').on("click",function(o){var e=window.localStorage.getItem("sessionToken");if($(this).hasClass("disabled")&&!e)return o.preventDefault(),!1}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=$(e.target).attr("href");"#log"===t&&o.log.setDefinitions(),"#history"===t&&o.log.setHistory(),"#update-log"===t&&o.log.setDefinitions()}),$(document).on("keypress",function(o){13===o.which&&($("#signup-module").is(":visible")&&$("#signup").trigger("click"),$("#login-modal").is(":visible")&&$("#login").trigger("click"))});var e=window.localStorage.getItem("sessionToken");e&&o.setAuthHeader(e),window.WorkoutLog=o}),$(document).ready(function(){$.extend(WorkoutLog,{signup:function(){var o={user:{username:$("#su_username").val(),password:$("#su_password").val()}};$.ajax({type:"POST",url:WorkoutLog.API_BASE+"user",data:JSON.stringify(o),contentType:"application/json"}).done(function(o){WorkoutLog.setAuthHeader(o.sessionToken),WorkoutLog.definition.fetchAll(),WorkoutLog.log.fetchAll(),$("#signup-modal").modal("hide"),$(".disabled").removeClass("disabled"),$("#loginout").text("Logout"),$("a[href='#define']").tab("show"),$("#su_username").val(""),$("#su_password").val("")}).fail(function(){$("#su_error").text("There was a problem with sign up").show()})},login:function(){var o={user:{username:$("#li_username").val(),password:$("#li_password").val()}};$.ajax({type:"POST",url:WorkoutLog.API_BASE+"login",data:JSON.stringify(o),contentType:"application/json"}).done(function(o){console.log(o),o.sessionToken&&(WorkoutLog.setAuthHeader(o.sessionToken),WorkoutLog.definition.fetchAll(),WorkoutLog.log.fetchAll()),$("#login-modal").modal("hide"),$(".disabled").removeClass("disabled"),$("#loginout").text("Logout"),$("a[href='#define']").tab("show"),$("#li_username").val(""),$("#li_password").val("")}).fail(function(){$("#li_error").text("There was a problem with sign up man").show()})},logout:function(){window.localStorage.getItem("sessionToken")&&(window.localStorage.removeItem("sessionToken"),$("#loginout").text("Login"))}}),$("#signup").on("click",WorkoutLog.signup),$("#login").on("click",WorkoutLog.login),$("#loginout").on("click",WorkoutLog.logout),window.localStorage.getItem("sessionToken")&&$("#loginout").text("Logout")});
//# sourceMappingURL=maps/bundle.js.map
